{"version":3,"file":"dev-tools.js","sources":["../../../src/components/dev-tools.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,sCAA2D;AAC3D,uCAAqC;AACrC,sCAAuC;AAEvC,IAAM,WAAW,GAAQ,OAAO,MAAM,KAAK,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC;AAErE;AACA;AACA,GAAG;AAEH;AAEG,IADD,cAAc;AAChB,IAAE,2BAAoB,MAAsB,EAAU,OAAqB;AAAI,QAA7E,iBAA6E;AAC/E,QADsB,WAAM,GAAN,MAAM,CAAgB;AAAC,QAAS,YAAO,GAAP,OAAO,CAAc;AAAC,QAE1E;AACF;AACM;AACM;AAEC;AAAW;AACM;AACM;AAEA,WAD/B;AACL,QAAE,aAAQ,GAAG,UAAC,OAAgB;AAAI,YAC9B,IAAI,YAAsB,CAAC;AAC/B,YAAI,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAAC;AAC5B,gBAAM,MAAM,CAAC,IAAI,CAAC;AAClB,YAAI,CAAC;AACL,YACI,0DAA0D;AAC9D,YAAI,WAAW,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAC,EAAa;AAAI,oBAAf,cAAI;AAAE,gBAC5C,EAAE,CAAC,CAAC,IAAI,KAAK,OAAO,CAAC,CAAC,CAAC;AAC7B,oBAAQ,YAAY,GAAG,KAAI,CAAC,OAAO,CAAC,SAAS,CAAC;AACxC,wBAAI,EAAE,CAAC,CAAC,CAAC,aAAM,CAAC,eAAe,EAAE,CAAC,CAAC,CAAC;AAC1C,4BAAY,KAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;AAC/B,wBAAU,CAAC;AACX,oBAAQ,CAAC,CAAC,CAAC;AACX,gBAAM,CAAC;AAAC,gBAAA,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,CAAC,CAAC;AACnC,oBAAQ,YAAY,EAAE,CAAC;AACvB,gBAAM,CAAC;AACP,YAAI,CAAC,CAAC,CAAC;AACP,YACI,MAAM,CAAC,WAAW,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;AAClD,QAAE,CAAC,CAAC;AACJ,QACE;AACF;AAEA,WADK;AACL,QAAE,cAAS,GAAG,cAAM,OAAA,WAAW,IAAI,WAAW,CAAC,iBAAiB,EAA5C,CAA4C,CAAC;AACjE,IArC8E,CAAC;AAC/E,IAHa,iBAAiB,wBAD7B,iBAAU,EAAE,5BACL,kCAEsB,qBAAc,EAAmB,kBAAO;AAAG,OAF5D,iBAAiB,CAuC7B;;;;;yGACD;AAAC,IADD,wBAAC;AACA,CADA,AAvCD,IAuCC;AAvCY,8CAAiB;AAAC","sourcesContent":["import { Injectable, ApplicationRef } from '@angular/core';\nimport { NgRedux } from './ng-redux';\nimport { NgZone } from '@angular/core';\ndeclare const window: any;\nconst environment: any = typeof window !== 'undefined' ? window : {};\n\n/**\n * An angular-2-ified version of the Redux DevTools chrome extension.\n */\n@Injectable()\nexport class DevToolsExtension {\n  /** @hidden */\n  constructor(private appRef: ApplicationRef, private ngRedux: NgRedux<any>) {}\n\n  /**\n   * A wrapper for the Chrome Extension Redux DevTools.\n   * Makes sure state changes triggered by the extension\n   * trigger Angular2's change detector.\n   *\n   * @argument options: dev tool options; same\n   * format as described here:\n   * [zalmoxisus/redux-devtools-extension/blob/master/docs/API/Arguments.md]\n   */\n  enhancer = (options?: Object) => {\n    let subscription: Function;\n    if (!this.isEnabled()) {\n      return null;\n    }\n\n    // Make sure changes from dev tools update angular's view.\n    environment.devToolsExtension.listen(({ type }: any) => {\n      if (type === 'START') {\n        subscription = this.ngRedux.subscribe(() => {\n          if (!NgZone.isInAngularZone()) {\n            this.appRef.tick();\n          }\n        });\n      } else if (type === 'STOP') {\n        subscription();\n      }\n    });\n\n    return environment.devToolsExtension(options);\n  };\n\n  /**\n   * Returns true if the extension is installed and enabled.\n   */\n  isEnabled = () => environment && environment.devToolsExtension;\n}\n"]}